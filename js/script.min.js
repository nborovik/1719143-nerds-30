const modal=document.querySelector(".modal"),modalLabel=document.querySelector(".modal_label"),popup=document.querySelector(".wap_content__button"),close=modal.querySelector(".modal_close"),formModal=modal.querySelector("form"),login=formModal.querySelector(".form_name"),email=formModal.querySelector(".form_email"),letter=formModal.querySelector(".form_letter"),inputs=modal.querySelectorAll("input");popup.addEventListener("click",function(e){e.preventDefault(),modal.classList.add("modal_show"),document.body.style.overflow="hidden"}),close.addEventListener("click",function(e){modal.classList.remove("modal_show"),modal.classList.remove("modal_error"),document.body.style.overflow=""}),formModal.addEventListener("submit",function(e){if(e.preventDefault(),login.value&&email.value&&letter.value)this.submit(),login.value="",email.value="",letter.value="";else{modal.classList.remove("modal_error"),modal.offsetWidth=modal.offsetWidth,modal.classList.add("modal_error");for(const l=0;l<inputs.length;l++)inputs[l].value&&inputs[l].checkValidity()?inputs[l].classList.remove("invalid"):inputs[l].classList.add("invalid"),login.addEventListener("input",function(){login.classList.remove("invalid")}),email.value&&email.checkValidity()?email.classList.remove("invalid"):email.classList.add("invalid"),email.addEventListener("input",function(){email.classList.remove("invalid")}),letter.value&&letter.checkValidity()?letter.classList.remove("invalid"):letter.classList.add("invalid"),letter.addEventListener("input",function(){letter.classList.remove("invalid")})}}),document.addEventListener("keydown",function(e){"Escape"===e.code&&modal.classList.contains("modal_show")&&(modal.classList.remove("modal_show"),modal.classList.remove("modal_error"))});